use arch_program::{input_to_sign::InputToSign, pubkey::Pubkey};

#[derive(Debug, Clone, Default, PartialEq)]
pub struct TransactionToSign {
    pub tx_bytes: Vec<u8>,
    pub inputs_to_sign: Vec<InputToSign>,
}

impl TransactionToSign {
    pub fn from_slice(data: &[u8]) -> Self {
        let tx_bytes_len =
            u32::from_le_bytes(data[0..4].try_into().expect("slice with incorrect length"));
        let tx_bytes = data[4..(4 + tx_bytes_len as usize)].to_vec();

        let mut size = tx_bytes_len as usize + 4;
        let inputs_to_sign_length = u32::from_le_bytes(data[size..(size + 4)].try_into().unwrap());
        size += 4;
        let mut inputs_to_sign = vec![];
        for _ in 0..inputs_to_sign_length {
            let index = u32::from_le_bytes(
                data[size..size + 4]
                    .try_into()
                    .expect("slice with incorrect length"),
            );
            size += 4;
            let signer = Pubkey::from_slice(&data[size..size + 32]);
            size += 32;
            inputs_to_sign.push(InputToSign { index, signer });
        }

        TransactionToSign {
            tx_bytes,
            inputs_to_sign,
        }
    }

    pub fn serialise(&self) -> Vec<u8> {
        let mut serialized = vec![];

        serialized.extend_from_slice(&(self.tx_bytes.len() as u32).to_le_bytes());
        serialized.extend_from_slice(&self.tx_bytes);
        serialized.extend_from_slice(&(self.inputs_to_sign.len() as u32).to_le_bytes());
        for input_to_sign in self.inputs_to_sign.iter() {
            serialized.extend_from_slice(&input_to_sign.index.to_le_bytes());
            serialized.extend_from_slice(&input_to_sign.signer.serialize());
        }

        serialized
    }
}

#[cfg(test)]
mod tests {
    use super::InputToSign;
    use super::Pubkey;
    use super::TransactionToSign;

    #[test]
    fn test_serialize_and_back() {
        let tx_bytes = vec![
            2, 0, 0, 0, 53, 98, 61, 180, 36, 239, 219, 150, 140, 192, 161, 223, 127, 100, 183, 157,
            66, 138, 8, 223, 122, 27, 118, 63, 134, 144, 143, 223, 128, 48, 214, 157, 114, 1, 0, 0,
            0, 0, 255, 255, 255, 255, 98, 132, 126, 24, 123, 176, 108, 19, 14, 199, 145, 14, 174,
            167, 82, 155, 206, 250, 232, 58, 7, 17, 221, 198, 110, 140, 27, 149, 123, 69, 55, 250,
            1, 0, 0, 0, 0, 255, 255, 255, 255, 177, 215, 144, 203, 112, 237, 86, 232, 124, 47, 18,
            29, 171, 123, 106, 49, 241, 144, 210, 66, 43, 119, 220, 46, 36, 200, 184, 155, 157, 51,
            186, 38, 0, 0, 0, 0, 0, 255, 255, 255, 255, 186, 160, 70, 12, 48, 9, 150, 151, 25, 249,
            87, 75, 165, 66, 242, 253, 166, 166, 68, 166, 21, 187, 230, 213, 133, 108, 54, 98, 66,
            242, 13, 32, 0, 0, 0, 0, 0, 255, 255, 255, 255, 166, 120, 82, 165, 166, 253, 115, 248,
            177, 174, 24, 0, 96, 153, 61, 213, 145, 62, 203, 79, 167, 80, 196, 219, 187, 63, 235,
            212, 175, 155, 238, 2, 1, 0, 0, 0, 0, 255, 255, 255, 255, 187, 102, 44, 48, 198, 235,
            240, 4, 162, 222, 158, 116, 249, 74, 123, 75, 135, 22, 16, 85, 166, 197, 34, 142, 204,
            33, 29, 122, 16, 169, 186, 42, 0, 0, 0, 0, 0, 255, 255, 255, 255, 169, 129, 238, 16,
            75, 147, 92, 70, 24, 167, 111, 200, 113, 4, 88, 189, 94, 104, 48, 52, 212, 195, 224,
            34, 184, 118, 226, 231, 21, 255, 164, 150, 0, 0, 0, 0, 0, 255, 255, 255, 255, 37, 206,
            34, 117, 130, 122, 214, 169, 109, 21, 115, 183, 254, 138, 233, 105, 225, 192, 49, 207,
            150, 221, 166, 110, 89, 198, 189, 236, 125, 204, 171, 82, 1, 0, 0, 0, 0, 255, 255, 255,
            255, 4, 66, 201, 228, 216, 161, 19, 210, 200, 82, 200, 56, 0, 196, 27, 157, 175, 218,
            89, 254, 192, 208, 95, 38, 241, 41, 4, 193, 126, 228, 77, 164, 0, 0, 0, 0, 0, 255, 255,
            255, 255, 0, 212, 136, 75, 168, 177, 113, 66, 107, 18, 40, 55, 238, 184, 208, 254, 186,
            212, 97, 242, 255, 71, 101, 45, 158, 109, 221, 19, 36, 245, 131, 247, 1, 0, 0, 0, 0,
            255, 255, 255, 255, 5, 161, 103, 214, 167, 189, 184, 90, 62, 251, 218, 105, 113, 18,
            108, 86, 135, 58, 129, 40, 12, 171, 73, 32, 193, 186, 41, 64, 230, 91, 230, 182, 0, 0,
            0, 0, 0, 255, 255, 255, 255, 231, 129, 17, 236, 138, 167, 82, 95, 12, 108, 46, 129, 21,
            246, 98, 237, 17, 119, 242, 51, 161, 52, 74, 17, 106, 119, 191, 238, 118, 137, 222,
            240, 1, 0, 0, 0, 0, 255, 255, 255, 255, 166, 45, 127, 164, 175, 135, 97, 33, 218, 99,
            44, 120, 45, 235, 14, 76, 168, 149, 167, 80, 247, 89, 186, 26, 224, 72, 196, 240, 114,
            165, 3, 90, 1, 0, 0, 0, 0, 255, 255, 255, 255, 50, 185, 182, 121, 40, 250, 184, 231,
            73, 94, 135, 250, 5, 219, 103, 188, 16, 48, 254, 43, 168, 150, 145, 91, 32, 96, 103,
            58, 218, 159, 57, 34, 1, 0, 0, 0, 0, 255, 255, 255, 255, 235, 57, 149, 153, 135, 226,
            244, 236, 105, 219, 204, 95, 213, 163, 59, 106, 6, 142, 170, 62, 222, 178, 191, 6, 71,
            232, 38, 151, 247, 86, 132, 183, 1, 0, 0, 0, 0, 255, 255, 255, 255, 167, 108, 222, 29,
            166, 74, 254, 188, 230, 63, 81, 55, 203, 133, 94, 191, 244, 143, 182, 129, 236, 239,
            130, 46, 53, 52, 165, 23, 229, 134, 32, 60, 1, 0, 0, 0, 0, 255, 255, 255, 255, 121,
            159, 36, 118, 27, 144, 99, 245, 137, 245, 131, 49, 94, 54, 219, 182, 116, 2, 16, 11,
            123, 58, 46, 48, 75, 213, 221, 225, 59, 71, 84, 174, 1, 0, 0, 0, 0, 255, 255, 255, 255,
            247, 11, 16, 224, 8, 65, 231, 94, 125, 251, 109, 20, 186, 163, 118, 1, 104, 29, 65,
            107, 167, 192, 10, 11, 9, 242, 124, 159, 20, 122, 17, 234, 1, 0, 0, 0, 0, 255, 255,
            255, 255, 98, 52, 49, 19, 127, 46, 122, 132, 36, 142, 118, 135, 250, 128, 126, 83, 192,
            228, 96, 206, 205, 183, 94, 191, 106, 11, 32, 207, 198, 118, 220, 188, 0, 0, 0, 0, 0,
            255, 255, 255, 255, 2, 99, 243, 78, 180, 51, 35, 117, 215, 19, 38, 55, 58, 205, 156,
            129, 48, 238, 156, 194, 122, 158, 227, 56, 84, 59, 87, 124, 117, 111, 61, 14, 0, 0, 0,
            0, 0, 255, 255, 255, 255, 154, 65, 82, 147, 94, 63, 147, 193, 51, 93, 8, 129, 211, 99,
            132, 144, 110, 80, 229, 196, 44, 109, 207, 228, 41, 98, 105, 143, 217, 56, 153, 147, 1,
            0, 0, 0, 0, 255, 255, 255, 255, 23, 150, 236, 249, 80, 116, 62, 227, 0, 172, 217, 178,
            113, 176, 97, 213, 84, 167, 5, 146, 152, 123, 139, 148, 139, 21, 239, 167, 188, 225,
            186, 62, 0, 0, 0, 0, 0, 255, 255, 255, 255, 202, 167, 53, 152, 171, 58, 136, 175, 25,
            87, 4, 129, 139, 215, 175, 219, 252, 25, 114, 110, 100, 249, 81, 74, 2, 218, 108, 219,
            164, 113, 204, 219, 0, 0, 0, 0, 0, 255, 255, 255, 255, 109, 201, 96, 67, 0, 176, 23,
            129, 155, 77, 233, 125, 122, 229, 82, 37, 153, 198, 14, 83, 220, 170, 212, 104, 155,
            126, 154, 43, 229, 31, 115, 183, 0, 0, 0, 0, 0, 255, 255, 255, 255, 143, 24, 64, 107,
            184, 90, 37, 73, 11, 209, 93, 220, 206, 15, 39, 152, 70, 155, 125, 160, 129, 212, 156,
            97, 222, 19, 103, 124, 157, 142, 4, 44, 0, 0, 0, 0, 0, 255, 255, 255, 255, 57, 61, 111,
            4, 201, 9, 144, 183, 48, 176, 53, 163, 29, 226, 184, 222, 178, 21, 71, 17, 236, 179,
            167, 93, 78, 15, 78, 72, 241, 127, 94, 235, 0, 0, 0, 0, 0, 255, 255, 255, 255, 65, 231,
            90, 201, 66, 80, 118, 222, 22, 239, 103, 146, 234, 144, 60, 128, 229, 9, 233, 238, 197,
            36, 37, 116, 30, 96, 1, 11, 198, 171, 1, 136, 1, 0, 0, 0, 0, 255, 255, 255, 255, 93,
            188, 223, 23, 227, 242, 76, 39, 115, 106, 8, 135, 190, 231, 110, 133, 61, 213, 71, 17,
            134, 66, 42, 113, 6, 170, 193, 193, 85, 235, 185, 157, 1, 0, 0, 0, 0, 255, 255, 255,
            255, 170, 163, 226, 86, 207, 191, 196, 195, 136, 78, 129, 200, 69, 59, 148, 54, 1, 203,
            193, 233, 177, 206, 128, 208, 245, 232, 35, 22, 41, 82, 72, 101, 1, 0, 0, 0, 0, 255,
            255, 255, 255, 126, 245, 126, 252, 11, 91, 97, 37, 144, 130, 123, 221, 231, 45, 84,
            162, 234, 73, 10, 86, 67, 72, 131, 243, 14, 42, 153, 149, 251, 86, 22, 48, 0, 0, 0, 0,
            0, 255, 255, 255, 255, 250, 192, 248, 255, 45, 243, 145, 240, 220, 5, 237, 243, 67,
            190, 32, 235, 137, 136, 171, 140, 189, 127, 111, 85, 243, 255, 240, 222, 58, 138, 107,
            164, 1, 0, 0, 0, 0, 255, 255, 255, 255, 137, 35, 234, 34, 13, 225, 223, 177, 47, 195,
            58, 108, 197, 71, 60, 14, 14, 195, 191, 162, 180, 170, 149, 82, 188, 250, 176, 72, 75,
            90, 244, 171, 1, 0, 0, 0, 0, 255, 255, 255, 255, 113, 25, 35, 50, 161, 7, 26, 16, 12,
            54, 72, 74, 115, 104, 209, 237, 215, 21, 123, 110, 149, 126, 167, 94, 8, 152, 229, 105,
            120, 29, 51, 130, 1, 0, 0, 0, 0, 255, 255, 255, 255, 60, 101, 186, 70, 182, 109, 103,
            162, 78, 0, 26, 111, 108, 53, 56, 125, 218, 41, 145, 103, 98, 208, 32, 115, 141, 217,
            19, 96, 178, 200, 124, 42, 0, 0, 0, 0, 0, 255, 255, 255, 255, 128, 227, 184, 201, 28,
            211, 124, 240, 164, 13, 235, 212, 168, 116, 139, 248, 88, 19, 53, 49, 224, 151, 199,
            210, 226, 108, 156, 29, 76, 193, 64, 124, 0, 0, 0, 0, 0, 255, 255, 255, 255, 52, 157,
            133, 135, 130, 19, 33, 10, 58, 225, 59, 119, 179, 188, 0, 190, 116, 74, 170, 24, 43,
            28, 199, 39, 236, 145, 105, 251, 108, 134, 200, 49, 1, 0, 0, 0, 0, 255, 255, 255, 255,
            146, 16, 226, 125, 106, 6, 171, 201, 14, 41, 64, 108, 100, 169, 215, 195, 19, 187, 47,
            166, 198, 136, 89, 238, 36, 166, 108, 195, 196, 181, 88, 223, 1, 0, 0, 0, 0, 255, 255,
            255, 255, 209, 87, 250, 173, 32, 235, 99, 135, 106, 3, 225, 130, 23, 27, 205, 35, 63,
            113, 244, 126, 197, 146, 59, 148, 117, 235, 178, 232, 180, 210, 103, 10, 1, 0, 0, 0, 0,
            255, 255, 255, 255, 51, 121, 80, 216, 75, 128, 146, 69, 129, 71, 53, 44, 109, 241, 47,
            236, 138, 130, 84, 251, 1, 208, 69, 15, 157, 145, 156, 57, 94, 107, 54, 228, 1, 0, 0,
            0, 0, 255, 255, 255, 255, 143, 50, 148, 193, 137, 149, 19, 211, 240, 20, 119, 30, 16,
            101, 148, 73, 176, 225, 225, 218, 132, 92, 88, 44, 188, 5, 206, 253, 170, 214, 233,
            168, 1, 0, 0, 0, 0, 255, 255, 255, 255, 19, 164, 100, 108, 3, 168, 50, 96, 47, 190, 11,
            62, 146, 78, 73, 56, 150, 31, 117, 235, 82, 138, 168, 201, 247, 253, 247, 109, 196, 9,
            85, 99, 0, 0, 0, 0, 0, 255, 255, 255, 255, 49, 186, 186, 108, 98, 249, 132, 171, 242,
            192, 47, 239, 193, 209, 86, 228, 146, 94, 50, 72, 109, 79, 98, 166, 146, 58, 224, 129,
            210, 48, 104, 210, 1, 0, 0, 0, 0, 255, 255, 255, 255, 205, 174, 147, 87, 147, 127, 68,
            72, 201, 180, 33, 78, 137, 37, 88, 196, 224, 178, 158, 221, 45, 133, 38, 195, 151, 133,
            84, 144, 214, 91, 181, 118, 1, 0, 0, 0, 0, 255, 255, 255, 255, 145, 187, 27, 72, 35,
            211, 223, 38, 29, 75, 240, 17, 241, 58, 73, 195, 255, 91, 217, 109, 210, 255, 50, 53,
            200, 173, 22, 249, 220, 151, 175, 131, 0, 0, 0, 0, 0, 255, 255, 255, 255, 49, 194, 243,
            165, 244, 150, 152, 38, 76, 54, 84, 109, 202, 140, 252, 21, 151, 101, 251, 42, 166, 80,
            52, 59, 30, 206, 254, 251, 176, 25, 95, 164, 1, 0, 0, 0, 0, 255, 255, 255, 255, 119,
            13, 45, 149, 56, 158, 231, 60, 174, 61, 161, 70, 47, 135, 170, 113, 164, 69, 205, 25,
            33, 248, 58, 110, 13, 148, 220, 123, 75, 209, 51, 155, 1, 0, 0, 0, 0, 255, 255, 255,
            255, 212, 165, 92, 152, 78, 18, 13, 200, 241, 122, 35, 87, 84, 34, 233, 230, 226, 201,
            65, 124, 152, 25, 29, 222, 83, 34, 43, 103, 237, 84, 141, 151, 0, 0, 0, 0, 0, 255, 255,
            255, 255, 119, 101, 4, 232, 148, 55, 78, 48, 226, 62, 198, 45, 149, 209, 189, 164, 229,
            112, 148, 20, 0, 19, 89, 172, 163, 128, 219, 185, 54, 7, 102, 61, 1, 0, 0, 0, 0, 255,
            255, 255, 255, 223, 177, 184, 140, 134, 236, 169, 9, 246, 204, 134, 43, 205, 141, 180,
            215, 48, 145, 9, 8, 11, 237, 148, 246, 90, 6, 70, 183, 206, 89, 149, 25, 1, 0, 0, 0, 0,
            255, 255, 255, 255, 89, 60, 71, 193, 20, 248, 159, 84, 252, 151, 27, 111, 102, 155,
            182, 138, 161, 67, 107, 143, 193, 184, 16, 230, 243, 84, 176, 118, 153, 249, 140, 181,
            0, 0, 0, 0, 0, 255, 255, 255, 255, 202, 237, 74, 87, 122, 207, 27, 24, 190, 70, 166,
            253, 178, 151, 22, 27, 86, 220, 139, 199, 0, 149, 146, 198, 3, 228, 64, 79, 27, 146, 8,
            111, 0, 0, 0, 0, 0, 255, 255, 255, 255, 224, 183, 191, 227, 255, 63, 243, 167, 181, 61,
            98, 5, 103, 246, 59, 154, 45, 168, 245, 113, 64, 39, 164, 221, 137, 218, 79, 170, 162,
            197, 144, 48, 0, 0, 0, 0, 0, 255, 255, 255, 255, 77, 197, 152, 92, 215, 232, 46, 124,
            129, 34, 70, 225, 47, 39, 225, 178, 135, 42, 47, 26, 180, 61, 206, 194, 80, 244, 91,
            60, 128, 176, 255, 171, 0, 0, 0, 0, 0, 255, 255, 255, 255, 53, 184, 11, 0, 0, 0, 0, 0,
            0, 34, 81, 32, 36, 59, 43, 56, 40, 188, 93, 155, 248, 127, 57, 105, 144, 102, 113, 190,
            67, 26, 19, 116, 86, 208, 155, 186, 37, 229, 135, 118, 54, 204, 50, 29, 184, 11, 0, 0,
            0, 0, 0, 0, 34, 81, 32, 157, 150, 46, 128, 240, 253, 80, 58, 9, 170, 100, 205, 164, 19,
            199, 123, 160, 125, 142, 175, 234, 4, 131, 53, 72, 36, 11, 58, 152, 192, 230, 215, 184,
            11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 101, 174, 50, 98, 25, 1, 245, 60, 109, 115, 171, 36,
            0, 137, 28, 89, 93, 15, 160, 37, 231, 73, 141, 22, 122, 157, 159, 116, 96, 249, 108, 7,
            184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 10, 50, 21, 28, 210, 152, 231, 196, 108, 34, 60,
            71, 90, 139, 100, 143, 34, 0, 178, 66, 151, 154, 207, 12, 253, 25, 42, 201, 103, 141,
            92, 114, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 71, 242, 191, 9, 174, 165, 214, 187,
            207, 129, 43, 101, 171, 36, 169, 210, 134, 159, 15, 153, 146, 107, 164, 103, 221, 134,
            248, 254, 29, 160, 236, 107, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 249, 96, 32, 232,
            206, 161, 66, 169, 146, 25, 173, 50, 247, 4, 45, 255, 171, 234, 165, 250, 89, 220, 81,
            169, 48, 11, 50, 79, 117, 57, 216, 159, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 18, 217,
            17, 76, 35, 108, 248, 42, 16, 5, 5, 167, 225, 148, 207, 189, 245, 78, 218, 243, 52, 15,
            82, 229, 74, 78, 52, 88, 195, 220, 151, 71, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 222,
            48, 152, 226, 215, 146, 150, 231, 177, 171, 36, 229, 30, 122, 194, 60, 96, 205, 96,
            129, 24, 24, 38, 166, 82, 109, 106, 189, 8, 53, 71, 255, 184, 11, 0, 0, 0, 0, 0, 0, 34,
            81, 32, 131, 19, 120, 45, 155, 167, 202, 218, 211, 90, 110, 195, 114, 241, 44, 5, 89,
            50, 70, 109, 37, 53, 155, 184, 172, 20, 173, 181, 207, 186, 223, 137, 184, 11, 0, 0, 0,
            0, 0, 0, 34, 81, 32, 136, 114, 68, 45, 28, 6, 118, 26, 179, 127, 222, 142, 8, 60, 117,
            22, 55, 19, 192, 9, 229, 123, 99, 131, 163, 32, 59, 151, 194, 87, 177, 128, 184, 11, 0,
            0, 0, 0, 0, 0, 34, 81, 32, 3, 211, 23, 171, 8, 76, 184, 109, 92, 100, 32, 251, 138, 46,
            205, 75, 225, 233, 206, 211, 175, 131, 224, 36, 12, 15, 162, 191, 243, 191, 1, 222,
            184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 116, 227, 241, 27, 225, 102, 16, 12, 149, 127,
            200, 65, 31, 96, 178, 49, 103, 56, 233, 23, 210, 168, 9, 121, 177, 30, 206, 200, 243,
            161, 98, 78, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 82, 238, 194, 73, 170, 95, 254, 69,
            24, 6, 126, 30, 151, 65, 140, 212, 209, 199, 135, 152, 204, 199, 34, 110, 237, 100, 60,
            56, 22, 127, 87, 187, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 76, 48, 93, 115, 164, 212,
            33, 141, 170, 226, 47, 244, 219, 19, 203, 30, 17, 160, 230, 203, 248, 73, 28, 134, 105,
            253, 211, 225, 6, 43, 180, 81, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 57, 226, 32, 112,
            181, 27, 84, 227, 206, 74, 63, 137, 251, 124, 115, 188, 169, 146, 172, 229, 22, 210,
            242, 70, 52, 20, 74, 239, 25, 74, 251, 219, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 81,
            0, 141, 42, 40, 33, 44, 226, 80, 81, 18, 40, 218, 59, 36, 99, 1, 179, 189, 4, 229, 197,
            235, 137, 166, 178, 86, 231, 89, 19, 101, 123, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32,
            244, 72, 108, 244, 200, 75, 41, 181, 157, 192, 165, 98, 216, 214, 33, 121, 101, 195,
            178, 170, 210, 241, 45, 235, 247, 149, 6, 218, 44, 246, 56, 127, 184, 11, 0, 0, 0, 0,
            0, 0, 34, 81, 32, 5, 209, 222, 143, 91, 91, 232, 35, 248, 107, 213, 93, 116, 213, 10,
            132, 68, 97, 40, 170, 140, 187, 194, 123, 57, 229, 208, 35, 107, 33, 205, 79, 184, 11,
            0, 0, 0, 0, 0, 0, 34, 81, 32, 32, 228, 22, 124, 244, 250, 29, 229, 51, 124, 155, 89,
            14, 55, 82, 10, 49, 20, 66, 13, 144, 116, 183, 131, 172, 131, 27, 235, 253, 112, 19,
            158, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 99, 184, 146, 41, 194, 204, 5, 151, 46,
            222, 31, 185, 90, 241, 225, 166, 64, 25, 158, 89, 149, 139, 38, 202, 43, 151, 239, 147,
            82, 30, 215, 114, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 123, 190, 146, 210, 226, 0,
            229, 104, 66, 25, 235, 17, 254, 10, 67, 109, 62, 52, 138, 241, 31, 243, 3, 106, 203,
            193, 212, 94, 34, 44, 175, 94, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 108, 60, 99, 99,
            126, 165, 64, 166, 70, 29, 200, 231, 3, 23, 155, 118, 248, 212, 23, 80, 112, 184, 172,
            92, 34, 193, 180, 145, 100, 158, 230, 43, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 229,
            111, 59, 81, 199, 174, 87, 252, 89, 205, 15, 129, 231, 60, 127, 215, 191, 167, 72, 91,
            209, 91, 33, 199, 130, 94, 208, 188, 10, 56, 253, 58, 184, 11, 0, 0, 0, 0, 0, 0, 34,
            81, 32, 100, 201, 49, 34, 35, 161, 31, 91, 89, 140, 153, 202, 86, 242, 4, 67, 223, 193,
            198, 161, 203, 223, 43, 42, 219, 213, 35, 8, 97, 181, 182, 187, 184, 11, 0, 0, 0, 0, 0,
            0, 34, 81, 32, 211, 189, 223, 170, 12, 17, 4, 102, 111, 201, 207, 141, 75, 67, 113, 21,
            27, 98, 173, 20, 82, 152, 80, 15, 72, 144, 149, 251, 253, 26, 143, 85, 184, 11, 0, 0,
            0, 0, 0, 0, 34, 81, 32, 193, 129, 107, 190, 232, 224, 96, 99, 219, 248, 17, 227, 60, 2,
            54, 48, 37, 25, 109, 140, 110, 108, 35, 222, 238, 8, 237, 207, 36, 150, 155, 175, 184,
            11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 232, 89, 106, 190, 2, 234, 197, 235, 53, 33, 184, 23,
            225, 205, 11, 27, 136, 51, 118, 140, 54, 55, 199, 75, 135, 127, 126, 252, 241, 176,
            133, 208, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 214, 44, 142, 47, 116, 162, 238, 69,
            70, 207, 119, 147, 15, 61, 207, 11, 95, 237, 189, 241, 77, 148, 47, 34, 123, 252, 223,
            11, 99, 91, 233, 60, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 80, 8, 125, 148, 249, 27,
            42, 181, 230, 220, 93, 27, 217, 30, 68, 196, 149, 56, 206, 56, 117, 56, 243, 33, 132,
            86, 159, 202, 23, 215, 52, 87, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 138, 63, 63, 102,
            19, 216, 251, 82, 126, 225, 169, 119, 91, 75, 154, 39, 123, 48, 147, 113, 49, 171, 132,
            181, 169, 166, 149, 198, 123, 65, 90, 140, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 70,
            176, 87, 187, 47, 248, 27, 211, 158, 101, 203, 240, 129, 190, 236, 53, 126, 200, 141,
            191, 254, 138, 253, 75, 82, 139, 44, 204, 137, 238, 164, 207, 184, 11, 0, 0, 0, 0, 0,
            0, 34, 81, 32, 26, 127, 252, 158, 149, 51, 90, 110, 57, 227, 145, 150, 246, 178, 223,
            10, 91, 188, 9, 173, 191, 60, 15, 84, 232, 177, 10, 139, 32, 9, 241, 255, 184, 11, 0,
            0, 0, 0, 0, 0, 34, 81, 32, 189, 19, 50, 46, 32, 214, 213, 159, 208, 96, 209, 108, 220,
            58, 158, 185, 147, 107, 106, 2, 180, 229, 158, 203, 175, 209, 5, 71, 40, 175, 121, 224,
            184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 205, 120, 168, 21, 190, 249, 181, 50, 127, 198,
            209, 67, 33, 18, 167, 176, 220, 92, 37, 207, 175, 25, 249, 53, 95, 191, 239, 11, 30,
            142, 242, 240, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 44, 124, 235, 144, 65, 209, 206,
            116, 200, 183, 168, 21, 203, 13, 107, 115, 101, 187, 253, 173, 45, 194, 223, 172, 218,
            108, 165, 5, 67, 254, 158, 245, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 12, 229, 13, 76,
            136, 58, 165, 97, 108, 152, 58, 212, 19, 199, 201, 88, 240, 215, 215, 253, 115, 6, 160,
            87, 123, 174, 160, 109, 19, 97, 41, 63, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 102,
            177, 208, 101, 18, 252, 238, 29, 67, 46, 209, 205, 72, 230, 49, 106, 29, 252, 123, 115,
            76, 1, 206, 200, 128, 24, 134, 175, 1, 136, 32, 218, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81,
            32, 234, 48, 69, 151, 48, 5, 222, 84, 13, 220, 229, 180, 239, 91, 198, 167, 204, 157,
            227, 42, 88, 25, 44, 214, 252, 30, 208, 173, 142, 133, 193, 199, 184, 11, 0, 0, 0, 0,
            0, 0, 34, 81, 32, 147, 218, 125, 239, 21, 30, 70, 53, 29, 133, 20, 243, 34, 0, 3, 210,
            65, 230, 77, 160, 63, 24, 168, 118, 41, 68, 119, 21, 118, 40, 46, 58, 184, 11, 0, 0, 0,
            0, 0, 0, 34, 81, 32, 168, 195, 76, 88, 255, 14, 235, 220, 76, 28, 16, 61, 101, 119,
            147, 97, 148, 56, 23, 185, 43, 133, 156, 184, 46, 45, 175, 212, 251, 161, 212, 70, 184,
            11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 49, 250, 112, 78, 134, 2, 97, 172, 160, 220, 100,
            155, 193, 179, 10, 168, 152, 225, 49, 155, 95, 28, 12, 51, 176, 213, 234, 184, 222, 49,
            208, 14, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 216, 220, 229, 253, 92, 253, 81, 12,
            159, 174, 209, 112, 100, 1, 24, 30, 29, 8, 127, 242, 188, 3, 93, 92, 138, 210, 227, 80,
            81, 47, 141, 177, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 104, 61, 120, 127, 36, 101,
            61, 231, 180, 236, 14, 232, 215, 172, 152, 150, 135, 158, 147, 67, 251, 179, 86, 184,
            92, 234, 247, 12, 77, 203, 151, 81, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 241, 115,
            125, 148, 255, 101, 98, 175, 228, 89, 128, 98, 206, 232, 194, 74, 51, 207, 241, 51, 30,
            132, 231, 124, 59, 178, 208, 232, 181, 147, 237, 65, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81,
            32, 86, 12, 54, 187, 189, 75, 159, 74, 166, 42, 14, 43, 130, 141, 185, 69, 220, 172,
            193, 198, 15, 78, 231, 207, 162, 225, 56, 91, 154, 76, 136, 217, 184, 11, 0, 0, 0, 0,
            0, 0, 34, 81, 32, 179, 152, 55, 125, 215, 4, 50, 218, 147, 137, 60, 19, 165, 11, 214,
            101, 243, 160, 183, 5, 111, 247, 242, 234, 157, 236, 102, 146, 226, 161, 76, 213, 184,
            11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 251, 68, 68, 215, 23, 234, 141, 145, 173, 68, 40,
            100, 155, 130, 60, 188, 191, 26, 82, 246, 92, 72, 224, 225, 21, 209, 196, 132, 27, 8,
            54, 233, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 245, 96, 31, 125, 34, 83, 13, 180, 194,
            246, 25, 32, 94, 245, 199, 238, 78, 253, 183, 67, 139, 46, 148, 129, 235, 70, 192, 5,
            177, 128, 244, 14, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 148, 253, 92, 166, 41, 135,
            97, 136, 29, 143, 40, 60, 206, 100, 169, 28, 103, 15, 172, 36, 243, 101, 159, 141, 61,
            193, 22, 253, 95, 169, 33, 61, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81, 32, 211, 168, 131,
            166, 164, 173, 169, 10, 238, 70, 170, 20, 251, 176, 157, 41, 136, 220, 27, 15, 102,
            166, 179, 99, 184, 175, 56, 226, 4, 64, 199, 231, 184, 11, 0, 0, 0, 0, 0, 0, 34, 81,
            32, 62, 26, 245, 211, 250, 47, 54, 205, 217, 245, 33, 62, 247, 100, 154, 255, 185, 56,
            120, 55, 12, 126, 170, 95, 68, 231, 113, 66, 116, 193, 165, 163, 184, 11, 0, 0, 0, 0,
            0, 0, 34, 81, 32, 82, 32, 140, 150, 35, 75, 198, 199, 163, 102, 49, 60, 132, 85, 255,
            83, 110, 166, 122, 224, 207, 123, 25, 104, 154, 173, 97, 67, 130, 56, 215, 218, 236,
            27, 243, 5, 0, 0, 0, 0, 34, 81, 32, 56, 78, 16, 189, 154, 114, 160, 232, 56, 142, 44,
            232, 103, 136, 194, 216, 131, 171, 37, 209, 110, 53, 255, 23, 10, 153, 39, 51, 213, 77,
            3, 229, 0, 0, 0, 0,
        ];
        println!("tx_bytes len {:?}", tx_bytes.len());
        let program_return = TransactionToSign {
            tx_bytes,
            inputs_to_sign: vec![
                InputToSign {
                    index: 0,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 1,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 2,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 3,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 4,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 5,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 6,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 7,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 8,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 9,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 10,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 11,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 12,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 13,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 14,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 15,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 16,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 17,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 18,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 19,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 20,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 21,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 22,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 23,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 24,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 25,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 26,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 27,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 28,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 29,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 30,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 31,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 32,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 33,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 34,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 35,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 36,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 37,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 38,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 39,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 40,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 41,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 42,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 43,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 44,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 45,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 46,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 47,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 48,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 49,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 50,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 51,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
                InputToSign {
                    index: 52,
                    signer: Pubkey([
                        199, 62, 220, 99, 239, 171, 63, 140, 90, 151, 154, 255, 244, 245, 239, 168,
                        206, 235, 216, 86, 168, 13, 50, 242, 66, 107, 239, 255, 250, 213, 163, 48,
                    ]),
                },
            ],
        };
        assert_eq!(
            program_return.tx_bytes,
            TransactionToSign::from_slice(&program_return.serialise()).tx_bytes
        );
        assert_eq!(
            program_return.inputs_to_sign,
            TransactionToSign::from_slice(&program_return.serialise()).inputs_to_sign
        );

        // let program_return = TransactionToSign {
        //     tx_bytes: vec![10; 32],
        //     inputs_to_sign: vec![InputToSign {
        //         index: 0,
        //         signer: Pubkey::system_program()
        //     }, InputToSign {
        //         index: 0,
        //         signer: Pubkey::system_program()
        //     }],
        // };
        // assert_eq!(program_return, TransactionToSign::from_slice(&program_return.serialise()));
    }
}
